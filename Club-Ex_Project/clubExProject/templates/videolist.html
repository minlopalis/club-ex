{% extends 'base.html' %} {% load static %} {% block styles %}
<link
  type="text/css"
  rel="stylesheet"
  href="{% static 'css/splide.min.css' %}"
  media="screen,projection"
/>
<link
  type="text/css"
  rel="stylesheet"
  href="{% static 'css/splide-default.min.css' %}"
  media="screen,projection"
/>
{% endblock styles %} {% block content %}

<div class="container">
  <form method="GET" action="{% url 'results' %}">
    {% csrf_token %}

    <div class="row"></div>
    <div class="row">
      <div class="col s4"></div>
      <div class="col s4">
        <input
          class="form-control me-2"
          type="search"
          placeholder="Search Videos"
          aria-label="Search"
          name="search"
        />
      </div>
      <div class="col s4">
        <button class="btn btn-outline-secondary" type="submit">Search</button>
      </div>
    </div>
    <div class="row"></div>
  </form>
</div>

<div
  style="
    background: url('/static/img/videos/video2.jpeg');
    background-repeat: no-repeat;
    background-size: cover;
    overflow: hidden;
  "
>
  <div class="overlay">
    <div class="container">
      <div class="row selected-video">
        <div class="col s12 m9">
          <div class="iframe-container">
            <iframe
              class="responsive-iframe"
              width="560"
              height="315"
              src="https://www.youtube.com/embed/EeF47sA_o28"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
        </div>
        <div class="col s12 m3 white-text right-align">
          <h3>AT HOME CARDIO Workout</h3>
          <p>
            Get ready for this serious sweat sesh. We're running through 15 of
            my favorite body weight cardio exercises today - with the exception
            of the jump rope which you can just pretend to do if you don't have
            one! Workout from home or the gym and get that cardio workout done!
            Woot Woot!
          </p>
          <div class="yellow-text accent-2">
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star_half</i>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col s-6 white-text"><h3>Aerobics</h3></div>
      </div>
      <div id="image-slider1" class="splide mt-4">
        <div class="splide__track">
          <ul class="splide__list">
            {% for a in aerobics %}
            <li class="splide__slide">
              <img src="{{b.video_image_URL}}" 
              onclick="updateSelectedVideo('{{a.video_name}}', '{{a.video_URL}}','{{a.video_description}}')" />
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="col s-6 white-text"><h3>Boxing</h3></div>
      </div>
      <div id="image-slider2" class="splide mt-4">
        <div class="splide__track">
          <ul class="splide__list">
            {% for b in boxing %}
            <li class="splide__slide">
              <img src="{{b.video_image_URL}}" 
              onclick="updateSelectedVideo('{{b.video_name}}', '{{b.video_URL}}','{{b.video_description}}')" />
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="col s-6 white-text"><h3>Pilates</h3></div>
      </div>
      <div id="image-slider3" class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            {% for p in pilates %}
            <li class="splide__slide">
              <img src="{{p.video_image_URL}}" 
              onclick="updateSelectedVideo('{{p.video_name}}', '{{p.video_URL}}','{{p.video_description}}')" />
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="col s-6 white-text"><h3>Yoga</h3></div>
      </div>
      <div id="image-slider4" class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            {% for y in Yoga %}
            <li class="splide__slide">
              <img src="{{y.video_image_URL}}" 
              onclick="updateSelectedVideo('{{y.video_name}}', '{{y.video_URL}}','{{y.video_description}}')" />
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div style="margin-top: 3rem"></div>
    </div>

    {% endblock content %} {% block scripts %}

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        new Splide('#image-slider1', {
          // type: 'loop',
          pagination: false,
          autoWidth: true,
          gap: 25,
          perPage: 2,
          perMove: 1,
          focus: 'center',
          padding: {
            right: '5rem',
            left: '5rem',
          },
        }).mount();
      });

      document.addEventListener('DOMContentLoaded', function () {
        new Splide('#image-slider2', {
          type: 'loop',
          pagination: false,
          autoWidth: true,
          gap: 25,
          perPage: 2,
          perMove: 1,
          focus: 'center',
          padding: {
            right: '5rem',
            left: '5rem',
          },
        }).mount();
      });

      document.addEventListener('DOMContentLoaded', function () {
        new Splide('#image-slider3', {
          type: 'loop',
          pagination: false,
          autoWidth: true,
          gap: 25,
          perPage: 2,
          perMove: 1,
          focus: 'center',
          padding: {
            right: '5rem',
            left: '5rem',
          },
        }).mount();
      });

      document.addEventListener('DOMContentLoaded', function () {
        new Splide('#image-slider4', {
          type: 'loop',
          pagination: false,
          autoWidth: true,
          gap: 25,
          perPage: 2,
          perMove: 1,
          focus: 'center',
          padding: {
            right: '5rem',
            left: '5rem',
          },
        }).mount();
      });



      const updateSelectedVideo=(title, url, description)=>{
        $('.selected-video').replaceWith(
          `<div class="col s12 m9">
          <div class="iframe-container">
            <iframe
              class="responsive-iframe"
              width="560"
              height="315"
              src="${url}"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
        </div>
        <div class="col s12 m3 white-text right-align">
          <h3>${title}</h3>
          <p>
            ${description}
          </p>
          <div class="yellow-text accent-2">
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star</i>
            <i class="small material-icons">star_half</i>
          </div>
        </div>`
        )
      };
    </script>
    {% endblock scripts %}
  </div>
</div>
